<!doctype html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Form Component Demo">
  <title>Form Demo</title>
</head>
<style>
  body {
    padding: 20px;
  }

  .demo-section {
    margin-bottom: 40px;
    padding: 24px;
    border: 1px solid #eee;
    border-radius: 12px;
    max-width: 600px;
    margin: 0 auto;
  }

  .demo-title {
    font-size: 1.5em;
    margin-bottom: 24px;
    font-weight: bold;
    text-align: center;
  }
</style>

<body layout="default">
  <div class="demo-section">
    <div class="demo-title">基础表单 (Basic Form)</div>

    <div vsrc="/form" :data="formData" :items="formItems" @submit="onSubmit" @reset="onReset">
    </div>

    <div style="margin-top: 30px; padding: 16px; background: #f9f9f9; border-radius: 8px;">
      <h4 style="margin-top: 0;">实时数据 (Live Data):</h4>
      <pre style="margin: 0; font-size: 12px; color: #666;">{{ JSON.stringify(formData, null, 2) }}</pre>
    </div>
  </div>
</body>

<script setup>
  formData = {
    name: 'John Doe',
    age: 25,
    city: 'bj',
    roles: ['dev'],
    agree: true,
    bio: ''
  };

  formItems = [
    {
      name: 'name',
      label: '姓名',
      placeholder: '请输入姓名',
      required: true
    },
    {
      name: 'age',
      type: 'number',
      label: '年龄',
      placeholder: '请输入年龄',
      validate: /^\d+$/
    },
    {
      name: 'city',
      type: 'select',
      label: '城市',
      opts: {
        options: [
          {label: '北京', value: 'bj'},
          {label: '上海', value: 'sh'},
          {label: '广州', value: 'gz'}
        ]
      }
    },
    {
      name: 'roles',
      type: 'checkbox',
      label: '角色',
      opts: {
        options: [
          {label: '开发者', value: 'dev'},
          {label: '设计师', value: 'des'},
          {label: '产品经理', value: 'pm'}
        ]
      }
    },
    {
      name: 'bio',
      type: 'textarea',
      label: '个人简介',
      placeholder: '请简要介绍自己...',
      opts: {rows: 4}
    },
    {
      name: 'agree',
      type: 'checkbox',
      placeholder: '我已阅读并同意相关协议',
      required: true
    }
  ];

  onSubmit = () => {
    console.log("Form submitted:", formData);
    $message.success("提交成功！请查看控制台");
  };

  onReset = () => {
    // Reset data to initial state
    formData = {
      name: '',
      age: null,
      city: '',
      roles: [],
      agree: false,
      bio: ''
    };
    $message.info("表单已重置");
  };
</script>

</html>
